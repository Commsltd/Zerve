# ğŸ“š Financial Model User Guide

## Overview
This interactive financial model projects 5-year revenue, customer growth, and key SaaS metrics across multiple revenue streams: **subscription revenue**, **token-based consumption**, **invoice finance**, and **enterprise licensing**.

---

## ğŸ¯ Quick Start

### Step 1: Review Baseline Parameters
All input parameters are located in the **`inputs.*`** blocks. These define your baseline scenario:
- `inputs.pricing_tiers` - Subscription prices and token allocations
- `inputs.churn_rates` - Monthly churn by tier
- `inputs.cac_by_segment` - Customer acquisition cost by channel
- `inputs.volume_assumptions` - Customer density and conversion rates
- `inputs.token_economics` - Token pricing and burn rates
- `inputs.invoice_finance` - Discount rates and loss provisions
- `inputs.regional_expansion` - Geographic market multipliers

### Step 2: Adjust Parameters
To test a scenario:
1. Navigate to the relevant `inputs.*` block
2. Edit the parameter values (e.g., change `input_starter_price = 495` to `input_starter_price = 595`)
3. Click **Run** on the block to save changes
4. Re-run downstream blocks to propagate changes

### Step 3: View Updated Results
After running inputs, view results in:
- `dashboard.executive_summary` - Key investor metrics
- `dashboard.arr_mrr_overview` - ARR/MRR trends
- `export.*` blocks - Detailed CSV/Excel exports
- `scenarios.comparison_view` - Side-by-side scenario comparison

---

## ğŸ“Š Model Structure

### Revenue Streams
1. **Subscription Revenue** (70-80% of total)
   - Base monthly recurring revenue from tier pricing
   - Driven by: customer acquisition, churn, tier upgrades
   
2. **Token Revenue** (5-10% of total)
   - Overage charges when customers exceed included tokens
   - PAYG revenue from non-subscription users
   - Driven by: consumption patterns, tier allocations
   
3. **Invoice Finance** (10-15% of total, from Y2+)
   - Take rates on institutional factoring
   - Platform fees on P2P lending
   - Driven by: invoice pool size, attachment rates
   
4. **Enterprise Licensing** (5-10% of total)
   - Custom contracts for large strategic deals
   - Driven by: pipeline conversion, ACV ranges

### Customer Flow
```
New Customers (by phase) 
  â†’ Cohort Tracking (survival analysis)
    â†’ Active Customers by Tier
      â†’ Tier Upgrades (conversion rates)
        â†’ Seat Expansion (within-tier growth)
          â†’ MRR Calculation
            â†’ ARR & Retention Metrics
```

---

## âš™ï¸ Parameter Definitions

### 1. Pricing Tiers (`inputs.pricing_tiers`)

**Editable Parameters:**
- `input_starter_price` - Monthly price for Starter tier (GBP)
- `input_growth_price` - Monthly price for Growth tier (GBP)
- `input_scale_price` - Monthly price for Scale tier (GBP)
- `input_enterprise_price` - Base monthly price for Enterprise tier (GBP)
- `input_starter_tokens` - Included tokens for Starter
- `input_growth_tokens` - Included tokens for Growth
- `input_scale_tokens` - Included tokens for Scale

**Acceptable Ranges:**
- Starter: Â£300-Â£800/month, 200-500 tokens
- Growth: Â£1,200-Â£3,000/month, 800-2,000 tokens
- Scale: Â£3,500-Â£7,500/month, 3,000-8,000 tokens
- Enterprise: Â£10,000-Â£25,000/month, custom tokens

**What it controls:** Base subscription revenue, pricing strategy, tier positioning

---

### 2. Churn Rates (`inputs.churn_rates`)

**Editable Parameters:**
- `input_churn_starter` - Monthly churn rate for Starter (decimal, e.g., 0.035 = 3.5%)
- `input_churn_growth` - Monthly churn rate for Growth
- `input_churn_scale` - Monthly churn rate for Scale
- `input_churn_enterprise` - Monthly churn rate for Enterprise

**Acceptable Ranges:**
- Starter: 2.5%-5.0% monthly (30%-48% annual churn)
- Growth: 1.5%-3.0% monthly (17%-31% annual churn)
- Scale: 0.8%-1.5% monthly (9%-17% annual churn)
- Enterprise: 0.4%-1.0% monthly (5%-11% annual churn)

**What it controls:** Customer retention, cohort survival, GRR/NRR metrics, LTV

---

### 3. Customer Acquisition Cost (`inputs.cac_by_segment`)

**Editable Parameters:**
- `input_cac_stealth_partnerships` - CAC for early stealth phase (GBP)
- `input_cac_beta_digital` - CAC for beta digital campaigns (GBP)
- `input_cac_launch_mixed` - CAC for launch mixed channels (GBP)
- `input_cac_enterprise_outbound` - CAC for enterprise outbound sales (GBP)

**Acceptable Ranges:**
- Stealth/Partnerships: Â£250-Â£800
- Beta/Digital: Â£800-Â£2,000
- Launch/Mixed: Â£2,000-Â£5,000
- Enterprise/Outbound: Â£5,000-Â£15,000

**What it controls:** CAC payback periods, LTV:CAC ratios, unit economics

---

### 4. Volume Assumptions (`inputs.volume_assumptions`)

**Customer Density (companies per segment):**
- `input_density_micro` - Number of micro businesses
- `input_density_small` - Number of small businesses
- `input_density_medium` - Number of medium businesses
- `input_density_large` - Number of large enterprises
- `input_density_mnc` - Number of MNCs

**Acceptable Ranges:** 10-50 (micro) up to 10,000-50,000 (MNC)

**Conversion Rates (between tiers):**
- `input_conv_free_to_starter` - Free trial â†’ Starter (decimal, e.g., 0.12 = 12%)
- `input_conv_starter_to_growth` - Starter â†’ Growth
- `input_conv_growth_to_scale` - Growth â†’ Scale
- `input_conv_scale_to_enterprise` - Scale â†’ Enterprise

**Acceptable Ranges:**
- Free â†’ Starter: 8%-20%
- Starter â†’ Growth: 12%-25%
- Growth â†’ Scale: 6%-15%
- Scale â†’ Enterprise: 2%-8%

**What it controls:** New customer acquisition volume, tier upgrade rates

---

### 5. Token Economics (`inputs.token_economics`)

**Editable Parameters:**
- `input_payg_rate` - Price per token for PAYG customers (GBP)
- `input_overage_rate` - Price per token for overage charges (GBP)
- `input_rollover_days` - Days unused tokens roll over
- `input_search_tokens_per_query` - Tokens consumed per search
- `input_monitor_tokens_per_entity_month` - Monthly tokens for monitoring
- `input_ai_report_tokens` - Tokens for AI report generation

**Acceptable Ranges:**
- PAYG Rate: Â£1.50-Â£3.00/token
- Overage Rate: Â£1.00-Â£2.50/token (typically < PAYG rate)
- Rollover: 30-120 days
- Token consumption: 1-20 tokens per action

**What it controls:** Token revenue, overage charges, PAYG revenue

---

### 6. Invoice Finance (`inputs.invoice_finance`)

**Institutional Take Rates:**
- `input_inst_low_risk_rate` - Take rate for low-risk invoices (decimal)
- `input_inst_mid_risk_rate` - Take rate for mid-risk invoices
- `input_inst_high_risk_rate` - Take rate for high-risk invoices

**P2P Platform Fees:**
- `input_p2p_low_risk_rate` - Platform fee for low-risk P2P
- `input_p2p_mid_risk_rate` - Platform fee for mid-risk P2P
- `input_p2p_high_risk_rate` - Platform fee for high-risk P2P

**Credit Parameters:**
- `input_expected_loss_rate` - Expected loss on financed pool (decimal)
- `input_max_prob_late_60` - Maximum late probability filter (decimal)

**Launch Timing (months from start):**
- `input_institutional_pilot_start` - Month to start institutional pilot
- `input_institutional_scale_start` - Month to scale institutional
- `input_p2p_pilot_start` - Month to start P2P pilot
- `input_p2p_scale_start` - Month to scale P2P

**Acceptable Ranges:**
- Institutional rates: 1.0%-4.0%
- P2P fees: 1.5%-5.0%
- Expected loss: 1.5%-4.0%
- Launch timing: 12-30 months (institutional), 24-48 months (P2P)

**What it controls:** Invoice finance revenue stream, loss provisions

---

### 7. Regional Expansion (`inputs.regional_expansion`)

**Market Multipliers:**
- `input_uk_market_multiplier` - UK market size vs baseline
- `input_eu_market_multiplier` - EU market size vs baseline
- `input_us_market_multiplier` - US market size vs baseline
- `input_apac_market_multiplier` - APAC market size vs baseline

**Launch Timing (year):**
- `input_uk_timing` - Year to launch UK
- `input_eu_timing` - Year to launch EU
- `input_us_timing` - Year to launch US
- `input_apac_timing_start` - Year to launch APAC

**Acceptable Ranges:**
- Multipliers: 0.5x - 6.0x baseline
- Timing: Year 1-5

**What it controls:** Geographic revenue allocation, international expansion

---

## ğŸ“ˆ Output Interpretation

### Key Metrics Explained

**ARR (Annual Recurring Revenue)**
- Total annualized subscription revenue
- Tracks: `base_arr` in `consolidated_revenue`
- Target: Â£10M by Y3, Â£100M by Y5

**MRR (Monthly Recurring Revenue)**
- Monthly subscription revenue
- ARR = MRR Ã— 12
- Tracks: `base_monthly_revenue` in `consolidated_revenue`

**GRR (Gross Revenue Retention)**
- % of revenue retained from existing customers (excluding expansion)
- Formula: (Beginning MRR - Churn MRR) / Beginning MRR
- Target: 92-95% (enterprise SaaS benchmark)
- Tracks: `grr_avg` in `retention_metrics_df`

**NRR (Net Revenue Retention)**
- % of revenue retained including expansion/upgrades
- Formula: (Beginning MRR - Churn + Expansion) / Beginning MRR
- Target: 110-120% (best-in-class)
- Tracks: `nrr_avg` in `retention_metrics_df`

**LTV (Lifetime Value)**
- Total expected revenue per customer
- Formula: (Monthly Price Ã— Gross Margin) / Monthly Churn Rate
- Target: 3-5x CAC
- Tracks: `ltv_by_tier` dictionary

**CAC Payback**
- Months to recover customer acquisition cost
- Formula: CAC / (Monthly Price Ã— Gross Margin)
- Target: <12 months
- Calculated in `dashboard.executive_summary`

**Rule of 40**
- ARR Growth Rate % + Gross Margin %
- Target: â‰¥40 for healthy SaaS
- Calculated in `dashboard.executive_summary`

---

## ğŸ”„ Scenario Testing Workflow

### Testing a Pricing Change
1. Open `inputs.pricing_tiers`
2. Change `input_growth_price = 1895` to `input_growth_price = 2195` (+15% increase)
3. Run `inputs.pricing_tiers`
4. Run `inputs.summary_dashboard` (optional, for verification)
5. Re-run calculation engine blocks:
   - `calc_engine.arr_mrr_calculation`
   - `calc_engine.output_summary`
6. View updated metrics in `dashboard.executive_summary`
7. Check impact on LTV:CAC ratios

### Testing a Churn Scenario
1. Open `inputs.churn_rates`
2. Increase `input_churn_starter = 0.035` to `input_churn_starter = 0.045` (+28% churn)
3. Run `inputs.churn_rates`
4. Re-run:
   - `calc_engine.churn_cohort_tracking`
   - `calc_engine.arr_mrr_calculation`
   - `export.executive_metrics`
5. Compare GRR/NRR in `dashboard.arr_mrr_overview`
6. Check cohort retention curves in `export.cohort_retention_curves`

### Testing Geographic Expansion
1. Open `inputs.regional_expansion`
2. Change `input_us_market_multiplier = 4.1` to `input_us_market_multiplier = 5.5`
3. Run `inputs.regional_expansion`
4. Re-run:
   - `calc_engine.geographic_allocation`
   - `export.geographic_breakdown`
5. View regional revenue split in exports

### Comparing Multiple Scenarios
1. Configure baseline, run all blocks, export results
2. Modify parameters for Scenario 2
3. Run modified blocks
4. Use `scenarios.comparison_view` to see side-by-side
5. Use `export.scenario_sensitivity_tables` for Excel comparison

---

## ğŸš¨ Common Issues & Troubleshooting

### Issue: Blocks show stale data
**Solution:** Blocks must be re-run after upstream changes. Follow the DAG from inputs â†’ calculations â†’ exports.

### Issue: Unrealistic ARR growth
**Check:** 
- Acquisition volumes in `volume_assumptions`
- Churn rates (too low creates hockey stick)
- Conversion rates between tiers

### Issue: Negative NRR or GRR
**Check:**
- Churn rates too high
- Insufficient expansion revenue
- MRR bridge calculation logic

### Issue: LTV:CAC ratio too low (<3x)
**Solution:**
- Reduce CAC (improve efficiency)
- Increase prices (raise LTV)
- Lower churn (extend customer lifetime)

---

## ğŸ“¤ Exporting Results

### CSV Exports
- `export.monthly_revenue_by_stream` â†’ `monthly_revenue_by_stream.csv`
- `export.geographic_breakdown` â†’ `geographic_breakdown.csv`
- `export.customer_counts` â†’ `customer_counts_by_tier_segment.csv`

### Excel Exports
- `export.consolidated_dashboard_export` â†’ `financial_exports_complete.xlsx`
- `export.scenario_sensitivity_tables` â†’ `scenario_sensitivity_analysis.xlsx`

All exports save to the canvas file system and are downloadable.

---

## ğŸ“ Best Practices

1. **Test incrementally**: Change one parameter at a time to isolate impact
2. **Document assumptions**: Add notes when changing baseline values
3. **Validate against benchmarks**: Compare metrics to SaaS industry standards
4. **Sanity check outputs**: Verify ARR growth, retention, and unit economics are realistic
5. **Use scenario comparison**: Run baseline vs optimistic vs pessimistic cases
6. **Re-run full DAG**: After major changes, re-run all blocks from inputs through exports

---

## ğŸ”— Block Dependencies

### Critical Path
```
inputs.* 
  â†’ calc_engine.core_parameters
    â†’ calc_engine.customer_acquisition
      â†’ calc_engine.churn_cohort_tracking
        â†’ calc_engine.tier_upgrades
          â†’ calc_engine.arr_mrr_calculation
            â†’ calc_engine.output_summary
              â†’ dashboard.executive_summary
                â†’ export.*
```

### To update a specific metric:
- **ARR/MRR**: Re-run from `calc_engine.arr_mrr_calculation`
- **Retention**: Re-run from `calc_engine.churn_cohort_tracking`
- **Token Revenue**: Re-run from `calc_engine.token_revenue`
- **Invoice Finance**: Re-run from `calc_engine.invoice_finance_revenue`

---

## ğŸ“ Support

For questions about the model structure, parameter ranges, or output interpretation, review the documentation blocks:
- `documentation.schema_sources` - Data source schema
- `validation.assumptions_check` - Assumption validation logic
- `validation.revenue_reconciliation` - Revenue calculation checks

---

**Version:** 1.0  
**Last Updated:** January 2025  
**Model Coverage:** 60 months (5 years)